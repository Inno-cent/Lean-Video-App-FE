<template>
  <div class="accordion">
    <div v-for="(item, index) in items" :key="index" class="accordion-item">
      <div class="accordion-header" @click="toggle(index)">
        <h3>{{ item.title }}</h3>
        <span :class="{ active: activeIndex === index }">
          <svg
            v-if="activeIndex !== index"
            width="18"
            height="18"
            viewBox="0 0 22 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.0612 13.9338C20.9218 13.794 20.7563 13.683 20.5739 13.6073C20.3916 13.5316 20.1961 13.4926 19.9987 13.4926C19.8013 13.4926 19.6058 13.5316 19.4235 13.6073C19.2411 13.683 19.0756 13.794 18.9362 13.9338L12.4999 20.3701V1.99507C12.4999 1.59724 12.3419 1.21571 12.0606 0.934404C11.7793 0.653101 11.3978 0.495064 10.9999 0.495064C10.6021 0.495064 10.2206 0.653101 9.93929 0.934404C9.65798 1.21571 9.49995 1.59724 9.49995 1.99507V20.3701L3.0612 13.9338C2.7794 13.652 2.39721 13.4937 1.9987 13.4937C1.60018 13.4937 1.21799 13.652 0.936196 13.9338C0.654403 14.2156 0.496094 14.5978 0.496094 14.9963C0.496094 15.3948 0.654403 15.777 0.936196 16.0588L9.9362 25.0588C10.0756 25.1987 10.2411 25.3096 10.4235 25.3853C10.6058 25.461 10.8013 25.5 10.9987 25.5C11.1961 25.5 11.3916 25.461 11.5739 25.3853C11.7563 25.3096 11.9218 25.1987 12.0612 25.0588L21.0612 16.0588C21.201 15.9195 21.312 15.7539 21.3877 15.5715C21.4634 15.3892 21.5024 15.1937 21.5024 14.9963C21.5024 14.7989 21.4634 14.6034 21.3877 14.4211C21.312 14.2388 21.201 14.0732 21.0612 13.9338Z"
              fill="#D9D9D9"
              fill-opacity="0.5"
            />
          </svg>
          <svg
            v-if="activeIndex === index"
            width="18"
            height="18"
            viewBox="0 0 22 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.0859 12.0613C20.9465 12.2011 20.7809 12.3121 20.5986 12.3878C20.4163 12.4635 20.2208 12.5025 20.0234 12.5025C19.8259 12.5025 19.6305 12.4635 19.4481 12.3878C19.2658 12.3121 19.1002 12.2011 18.9609 12.0613L12.5246 5.62505V24.0001C12.5246 24.3979 12.3666 24.7794 12.0853 25.0607C11.804 25.342 11.4224 25.5001 11.0246 25.5001C10.6268 25.5001 10.2452 25.342 9.96394 25.0607C9.68264 24.7794 9.5246 24.3979 9.5246 24.0001V5.62505L3.08585 12.0613C2.80406 12.3431 2.42187 12.5014 2.02335 12.5014C1.62484 12.5014 1.24265 12.3431 0.960854 12.0613C0.679062 11.7795 0.520752 11.3973 0.520752 10.9988C0.520752 10.6003 0.679062 10.2181 0.960854 9.9363L9.96085 0.9363C10.1002 0.79646 10.2658 0.685505 10.4481 0.609797C10.6305 0.534089 10.8259 0.495117 11.0234 0.495117C11.2208 0.495117 11.4163 0.534089 11.5986 0.609797C11.7809 0.685505 11.9465 0.79646 12.0859 0.9363L21.0859 9.9363C21.2257 10.0757 21.3366 10.2412 21.4124 10.4236C21.4881 10.6059 21.527 10.8014 21.527 10.9988C21.527 11.1962 21.4881 11.3917 21.4124 11.574C21.3366 11.7564 21.2257 11.9219 21.0859 12.0613Z"
              fill="#D9D9D9"
              fill-opacity="0.5"
            />
          </svg>
        </span>
      </div>
      <div
        v-if="activeIndex === index"
        :class="`accordion-content ${activeIndex === index ? 'active' : ''}`"
      >
        <p>{{ item.content }}</p>
      </div>
    </div>
  </div>
</template>
  
  <script>
export default {
  props: {
    items: {
      type: Array,
      required: true,
    },
  },
  data() {
    return {
      activeIndex: null,
    };
  },

  methods: {
    toggle(index) {
      this.activeIndex = this.activeIndex === index ? null : index;
      this.$nextTick(() => {
        const content = this.$el.querySelectorAll('.accordion-content')[index];
        if (content) {
          if (this.activeIndex === index) {
            content.style.height = `${content.scrollHeight}px`;
            content.style.opacity = '1';
            content.classList.add('active');
          } else {
            content.style.height = '0';
            content.style.opacity = '0';
            content.classList.remove('active');
          }
        }
      });
    },
  },
};
</script>
  
  <style scoped lang="scss">
@import './index.scss';
</style>
  